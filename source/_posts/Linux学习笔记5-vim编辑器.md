---
title: Linux学习笔记5(vim编辑器)
date: 2019-05-04 17:07:11
categories:
- Linux
tags:
- Linux
- 操作系统
---
# 五.vim编辑器 
## 1.vim简介
> (在终端中使用尤为重要)
	vi和vim都是Linux中的编辑器，不同的是，vim比较高级，可视为
	vim：更适合写代码
	vim重点是光标的移动，模式切换，删除，查找，替换，复制，粘贴，撤销命令的使用
## 2.vim的三种模式
```
vim中存在三种模式(大众的认知)：命令模式，编辑模式(输入模式)，末行模式(尾行模式)
*-* 命令模式：在该模式下是不能对文件直接编辑，可以输入快捷键进行一些操作(删除行，复制行，移动光标，粘贴等等)【打开文件默认进入的模式】
*-* 编辑模式：在该模式下可以对文件的内容进行编辑
*-* 末行模式：可以再末行输入命令来对文件进行操作(搜索，替换，保存，退出，撤销，高亮等等)
```
```
vim打开文件的方式(4中，要求掌握的就前三种)
#vim 文件路径      
    作用：打开指定文件
#vim +数字 文件的路径                
    作用：打开指定文件，并将光标移动到指定行
#vim +/关键词 文件的路径              
    作用：打开指定文件，并且高亮显示关键词
#vim 文件路径1 文件路径2 文件路径3    
    作用：同时打开多个文件
```
> 重点:先去复制出一个/etc/passwd文件，复制到当前目录下  #cd  #cp /etc/passwd ~/              
> 退出方式：输入":q"按下回车即可
### 1.命令模式
> 注意：该模式是打开文件的第一个看到的模式(打开文件进入即可)
#### 1.光标移动
```
(1).光标移动到行首      按键：shift+6 或 ^ (T字母上面的6，不要按小键盘的6)
(2).光标移动到行尾      按键：shift+4 或 $ (R字母上面的4，不要按小键盘的4)
(3).光标移动到首行      按键：gg
(4).光标移动到末行      按键：G
(5).翻屏
     向上翻屏：按键：ctrl + b     或      PgUp
     向上翻屏：按键：ctrl + f     或      PgDn
```
#### 2.复制操作(要配合粘贴一起使用)
```
(1).复制光标所在行      按键：yy
      粘贴：在想要复制的地方按下p键      
(2).**以光标所在行为准(包含当前行)，向下复制指定的行数       
      按键：数字 yy
(3).可视化复制      
      按键：ctrl + v
```
#### 3.剪切/删除
```
(1).**剪切/删除光标所在行       
      按键：dd (删除之后下一行下移)
      注意：dd严格意义上说是剪切命令，但是如果剪切了不粘贴就是删除
(2).**剪切/删除光标所在行为准，向下删除/剪切指定的行
      按键：数字 dd
(3).剪切/删除光标所在当前行，但是删除之后下一行不上移     
      按键：D    (删除之后变成空白行)
```
#### 4.撤销/恢复
```
      撤销：输入u           (undo)
      恢复：ctrl + r        (取消之前的撤销)
```
#### 5.扩展1：光标的快速移动
```
(1).**快速将光标移动到指定的行数                 
      按键：数字 G
(2).**以当前光标为准向上/上下移动n行             
      按键：数字 上下方向键
(3).以当前光标为准向左/向右移动n字符          
      按键：数字 左右方向键
(4).末行模式下的快速移动方式：移动到指定的行   
      按键：输入英文":",其后输入行数字，按下回车
```
### 2.模式间的切换		
- 命令模式-->末行模式      输入":"(英文冒号)
- 命令模式-->编辑模式      按下 i a 等
- 末行模式，编辑模式-->    按下esc
- 末行模式按两下esc，删除末行中的全部命令
### 3.末行模式
```
1.保存操作(write)     
      输入："w"           保存文件
      输入："w 路径"      另存为
2.退出(quit)          
      输入：":q"          退出文件
3.保存并退出	      
      输入：":wq"         保存并退出
4.强制退出(l)         
      输入：":ql"         表示强制退出，刚才做的修改操作不保存
5.调用外部命令(了解)  
      输入：":!外部的命令"
6.搜索/查找           
      输入："/关键词"      在搜索结果中切换上/下一个结果：N/n     (next)
      如果需要取消高亮，则需要输入：":nohl"【no high light】
7.替换  
      ：s/搜索的关键词/新的内容       替换光标所在行的第一处符合条件的内容容
      ：s/搜索的关键词/新的内容/g     替换光标所在行的全部符合条件的内容
      ：%s/搜索的关键词/新的内容      替换整个文档中每行第一个的符合条件的内容
      ：%s/搜索的关键词/新的内容/g    替换整个文档的符合条件的内容
            %表示整个文件
            g表示全局
8.显示行号      
      输入：":set nu" 【number】
      取消        输入：":set nonu"number】
9.扩展(2)：
      使用vim同时打开多个文件，在末行模式下进行切换文件
      查看当前已经打开的文件名称：输入：":files"
      在%a的位置有2种现实可能：
            %a：active，表示当前正在打开的文件
            #：表示上一个打开的文件
      切换文件的方式：
            a:如果需要指定切换文件的名称，则可以输入：":open 已经打开的文件名"
            b:可以通过其他命令来切换上一个文件/下一个文件
      输入：":bn" 切换到下一个文件(back next)
      输入：":bp" 切换到上一个文件(back prev)
```
### 4.编辑模式
> 进入方式：重点看2个进入方式：i(在光标所在字符前开始插入),a(在光标所在字符后开始插入)
    退出方式：按下"esc"
### 5.实用功能
#### 1.代码着色
- 案例：首先创建简单的c语言程序          
      如何控制着色与否？
```
      显示：":syntax on"
      关闭显示：":syntax off"
```
#### 2.vim中计算器的使用
> 当在编辑文件的时候突然需要使用计算器去计算一些公式，则此时需要用计算器，但是需要退出，vim自身集成了一个简易的计算器
```
      a.进入编辑模式
      b.按下按键"ctrl + R",然后输入"=",此时光标会变到最后一行
      c.输入需要计算的内容，按下回车
```
![aae.gif](https://upload-images.jianshu.io/upload_images/13687958-5820336412fd5411.gif?imageMogr2/auto-orient/strip)


